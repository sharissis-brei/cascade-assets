/***************************************************
* Story styles - For Homepage
***************************************************/

/* Hides stacked images on older browsers */

.homepage {
  .imagerotator {
    position: relative;
    img {
      position: absolute;
      top: 0;
      left: 0;
    }
  }

  #featured_stories {
    width: 100%;
    position: relative;
    z-index: 30;
    overflow: auto;
    .announcement {
      overflow: auto;
      clear: both;
      margin: -15px 0 15px 0;
      padding: 0 10px;
      .details {
        float: none;
        max-width: 100%;
        margin-top: 25px;
      }
      .imagerotator {
        float: none;
        max-width: 100%;
        /*height:300px;*/
        img {
          width: 100%;
          height: auto;
          border-radius: 3px;
        }
      }
      .title {
        text-transform: none;
        color: $cu-red;
        font-size: 22px;
        line-height: 26px;
        margin: 0;
      }
      .source {
        margin: 4px 0 0;
        a {
          background-position: 0 center !important;
          padding-left: 24px !important;
          color: #000000;
          opacity: 0.5;
        }
      }
      a.tag {
        color: #000000;
        opacity: 0.5;
      }
      .source a:hover, a.tag:hover {
        opacity: 0.8;
        color: $cu-red;
      }
    }
    .third {
      display: none;
    }
  }
}

@media only screen and (min-width: 680px) {
  .homepage {
    #featured_stories {
      .third {
        display: block;
        width: 50%;
        .story-3 {
          display: none;
        }
      }
      .announcement {
        .details {
          float: left;
          max-width: 65%;
          margin-top: 0;
        }
        .imagerotator {
          float: left;
          margin-right: 2%;
          width: 33%;
        }
      }
    }
  }
}

@media only screen and (min-width: 960px) {
  .homepage {
    #featured_stories .third {
      width: 33%;
      .story-3 {
        display: block;
      }
    }
    /* IE Compatibility */
    .ie7 #featured_stories .third {
      padding: 0;
      width: 31%;
      margin-right: 2%;
    }
    #featured_stories .announcement {
      .details {
        float: left;
        max-width: 55%;
      }
      .imagerotator {
        float: left;
        margin-right: 2%;
        width: 43%;
      }
      .details .title {
        font-size: 34px;
        line-height: 34px;
      }
    }
  }
}

@media only screen and (min-width: 1180px) {
  .homepage {
    #featured_stories .announcement {
      .details {
        max-width: 349px;
      }
      .imagerotator {
        width: 725px;
        margin-right: 34px;
      }
    }
  }
}

.homepage {
  .stories {
    .story {
      .publication_date {
        display: none;
      }
      .story-bg {
        margin-top: 15px;
      }
      .permalink {
        max-height: 265px;
      }
      .title {
        color: $cu-red;
        text-transform: none;
        min-height: 50px;
      }
    }
    .blogname a {
      background-repeat: no-repeat !important;
      background-position: 10px center !important;
      background-size: 20px !important;
      display: block;
      padding-left: 35px !important;
    }
    .story {
      width: 100%;
      margin-bottom: 15px;
      border: 1px solid #d8d8d8;
      color: $cu-red;
      background: #FFFFFF;
      box-shadow: 0 rgba(0, 0, 0, 0.1);
      border-radius: 3px;
      .story_footer {
        border-bottom-right-radius: 3px;
        border-bottom-left-radius: 3px;
        .meta {
          border-bottom-right-radius: 3px;
          border-bottom-left-radius: 3px;
        }
        background-color: #fff;
      }
      a {
        color: $cu-red;
        text-decoration: none;
      }
      p {
        margin: 0;
      }
      img {
        max-width: 100%;
      }
      .publication_date {
        margin: 5px 0 20px 24px;
        font-size: 12px;
        clear: both;
        color: #62605a;
      }
      a.permalink {
        display: block;
        overflow: hidden;
      }
      &.big a.permalink {
        max-height: 483px;
      }
      &.small a.permalink {
        max-height: 365px;
      }
      .title {
        margin: 0 20px 0 20px;
        font-size: 18px;
        line-height: 18px;
        .beginning:after {
          content: "Ã¢â‚¬Â¦";
        }
        .end {
          display: none;
        }
      }
      a.permalink:hover .title {
        color: #C92741;
        .beginning:after {
          content: "";
        }
        .end {
          display: inline;
          /*max-height:99px;*/
        }
      }
      .tag {
        display: inline-block;
        padding: 5px 10px 5px 20px;
        margin: 15px 0 0 0;
        color: #62605a;
        text-decoration: none;
        font-size: 12px;
        /*border-radius: 3px;*/
        -webkit-transition: all 0.1s ease-out;
        -moz-transition: all 0.1s ease-out;
        -o-transition: all 0.1s ease-out;
        transition: all 0.1s ease-out;
        &:hover {
          background: #d8d8d8;
          color: #313131;
          padding-left: 25px;
        }
      }
    }
    .story-bg {
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      background-color: #f7f6f0;
      min-height: 200px;
      img {
        display: none;
      }
    }
    .story_footer {
      position: relative;
      background: #f7f6f0;
      overflow: visible;
      min-height: 40px;
      font-size: 12px;
      line-height: 20px;
      p {
        margin: 0;
        font-size: 12px;
        line-height: 18px;
      }
      a, .meta a:hover {
        opacity: 1;
      }
      .source {
        position: absolute;
        top: 0;
        left: 0;
        background: #fff;
        &:hover a {
          z-index: 2;
          opacity: 1;
          color: $cu-red;
        }
        a {
          padding: 14px 50px 13px 24px;
          display: block;
          color: #000000;
          opacity: 0.6;
          text-decoration: none;
          line-height: 11px;
          overflow: hidden;
        }
        &.facebook:before {
          content: "";
          display: block;
          width: 15px;
          height: 15px;
          background: url('../img/icons/svg/facebook_red.svg') no-repeat center left;
          background-size: contain;
          position: absolute;
          top: 10px;
          left: 10px;
          opacity: 0.8;
          -webkit-filter: grayscale(1);
        }
        &.instagram:before {
          content: "";
          display: block;
          width: 15px;
          height: 15px;
          background: url('../img/icons/svg/instagram_red.svg') no-repeat center left;
          background-size: contain;
          position: absolute;
          top: 10px;
          left: 10px;
          opacity: 0.8;
          -webkit-filter: grayscale(1);
        }
        &.twitter:before {
          content: "";
          display: block;
          width: 15px;
          height: 15px;
          background: url('../img/icons/svg/twitter_red.svg') no-repeat center left;
          background-size: contain;
          position: absolute;
          top: 12px;
          left: 11px;
          opacity: 0.8;
          -webkit-filter: grayscale(1);
        }
        &.blogs:before {
          content: "";
          display: block;
          width: 20px;
          height: 20px;
          background: image-url('cu_monogram_red.svg') no-repeat center left;
          background-size: contain;
          position: absolute;
          top: 10px;
          left: 8px;
          opacity: 0.8;
          -webkit-filter: grayscale(1);
        }
        &:hover:before {
          -webkit-filter: grayscale(0);
        }
        &.facebook a, &.instagram a, &.twitter a, &.blogs a {
          padding-left: 30px !important;
        }
      }
      .meta {
        position: absolute;
        top: 0;
        right: 0;
        background: #fff;
        .icon {
          display: block;
          color: #000000;
          opacity: 0.6;
          text-decoration: none;
          padding: 13px 20px 13px 10px;
          float: left;
        }
        .action {
          display: block;
          color: #000000;
          opacity: 1;
          text-decoration: none;
          float: left;
          &:hover {
            opacity: 0.8;
          }
        }
      }
    }
    .icon {
      color: #FFFFFF;
      text-decoration: none;
    }
    a.icon {
      color: #FFFFFF;
      text-decoration: none;
      &:hover {
        opacity: 0.75;
      }
    }
    .icon {
      background-size: 14px;
      background-repeat: no-repeat;
      background-position: center right;
      padding-right: 20px;
      min-height: 14px;
      margin-right: 10px;
      &.comments {
        background-image: image-url('bubble-dots3_white.svg');
      }
      &.shares {
        background-image: image-url('share_white.svg');
      }
      &.views {
        background-image: url('../img/icons/svg/eye2_white.svg');
      }
    }
    .story .icon {
      &.comments {
        background-image: image-url('bubble-dots3.svg');
      }
      &.shares {
        background-image: image-url('share.svg');
      }
      &.views {
        background-image: url('../img/icons/svg/eye2.svg');
      }
    }
  }
}

/* Limit story tile height */

/* NOTE: ICON DATA IS DOWNLOADED FROM cu_icons.css; these rules supplement the data which is loaded. */

/* from Inside.Chapman styles */
/***************************************************
* Story structure
***************************************************/

/* Truncate long titles */

/* Expand long titles */

@media only screen and (min-width: 980px) {
  .homepage {
    .stories .story .title {
      font-size: 24px;
      line-height: 24px;
    }
  }
}

@media only screen and (min-width: 1180px) {
  .homepage {
    .stories .story {
      &.big {
        .title {
          font-size: 30px;
          line-height: 32px;
        }
        .story-bg {
          min-height: 350px;
        }
      }
      .publication_date {
        margin-bottom: 30px;
      }
    }
  }
}

/* from Inside.Chapman styles */
/***************************************************
* Footer Elements
***************************************************/

/* from Inside.Chapman styles */
/***************************************************
* Icon Elements
***************************************************/

/* No SVG Support */

.homepage {
  .no-svg .stories {
    .icon {
      &.comments {
        background-image: url('../img/icons/png/bubble-dots3_white_14.png');
      }
      &.shares {
        background-image: url('../img/icons/png/share_white_14.png');
      }
      &.views {
        background-image: url('../img/icons/png/eye2_white_14.png');
      }
    }
    .story .icon {
      &.comments {
        background-image: url('../img/icons/png/bubble-dots3_14.png');
      }
      &.shares {
        background-image: url('../img/icons/png/share_14.png');
      }
      &.views {
        background-image: url('../img/icons/png/eye2_14.png');
      }
    }
  }

  .stories {
    .action {
      display: inline-block;
      background-size: 14px;
      background-repeat: no-repeat;
      background-position: center;
      height: 40px;
      text-indent: -9999px;
      width: 0;
      position: relative;
      -webkit-transition: all 0.1s ease-out;
      -moz-transition: all 0.1s ease-out;
      -o-transition: all 0.1s ease-out;
      transition: all 0.1s ease-out;
      &.facebook {
        background-image: image-url('facebook_white.svg');
        background-color: #38659f;
        background-position: center !important;
      }
      &.twitter {
        background-image: image-url('twitter_white.svg');
        background-color: #3aa8dd;
        background-position: center !important;
      }
    }
    .meta.share_action {
      .action {
        width: 40px;
      }
      .icon {
        &.comments, &.views {
          display: none;
        }
        &.shares {
          opacity: 0.2 !important;
          cursor: default;
        }
      }
    }
  }
}
